<!-- templates/order_detail.html -->
{% extends 'bases/base-nav.html' %}
{% load qr_code %}

{% block nav %}
  <div class="container-fluid">
    <div class="navbar-brand fw-medium">Detalles</div>
    <a class="btn" href="{{ request.META.HTTP_REFERER }}"><i class="bi bi-x-lg"></i></a>
  </div>
{% endblock %}

{% block content %}
  <div class="container my-2">
    {% for message in messages %}
      <div class="alert alert-primary d-flex align-items-center">
        <i class="bi bi-check-circle-fill"></i><span class="ps-1">{{ message }}</span>
      </div>
    {% endfor %}

    {# Detalles de reporte #}
    {% if order.get_report %}
      <div class="alert alert-danger d-flex align-items-center">{{ order.get_report.details }}</div>
    {% endif %}

    {% include 'components/order_details_card.html' with order=order qr_visible=True list=True %}
  </div>

  {# Bot√≥n de Cancelar para ordenes pendientes #}
  {% if order.status == 'pending' %}
    <div class="fixed-bottom container">
      <div class="d-grid my-2">
        <button class="btn btn-primary btn-lg" type="button">Cancelar Orden</button>
      </div>
    </div>
  {% endif %}
{% endblock %}
